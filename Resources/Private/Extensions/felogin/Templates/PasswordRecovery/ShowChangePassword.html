<html xmlns:f="http://typo3.org/ns/TYPO3/CMS/Fluid/ViewHelpers" data-namespace-typo3-fluid="true">
<f:spaceless>
<h3>
    <f:translate key="change_password_header"/>
</h3>
<p>
    <f:translate key="change_password_message" arguments="{0: settings.newPasswordMinLength}"/>
</p>

<f:form.validationResults>
    <f:if condition="{validationResults.flattenedErrors}">
        <v:variable.set name="errorStyle" value="error" />
        <div role="alert" data-complete-message="1">
            <div class="form__error-list-box">
                <f:for each="{validationResults.flattenedErrors}" as="errors" key="propertyPath">
                    <f:for each="{errors}" as="error">
                        <p class="form__error-list-text">
                           {error}
                        </p>
                    </f:for>
                </f:for>
            </div>
        </div>
    </f:if>
</f:form.validationResults>

<f:form action="changePassword" class="form" method="post">
    <legend>
        <f:translate key="change_password"/>
    </legend>
    <div class="form__group{f:if(condition:errorStyle, then:' form__group--{errorStyle}')}">
        <label>
            <f:translate key="newpassword_label1"/>
            <f:form.password name="newPass" autocomplete="new-password" class="{f:if(condition:errorStyle, then:'form__{errorStyle}')}" />
        </label>
    </div>
    <div class="form__group{f:if(condition:errorStyle, then:' form__group--error')}">
        <label>
            <f:translate key="newpassword_label2"/>
            <f:form.password name="newPassRepeat" autocomplete="new-password" class="{f:if(condition:errorStyle, then:'form__{errorStyle}')}" />
        </label>
    </div>
    <f:form.hidden name="hash" value="{hash}"/>
    <div class="form__group">
        <f:form.submit value="{f:translate(key: 'change_password')}"/>
    </div>

    <div class="form__group">
        <f:link.action action="login" controller="Login">
            <f:translate key="forgot_header_backToLogin"/>
        </f:link.action>
    </div>
</f:form>
</f:spaceless>
</html>
