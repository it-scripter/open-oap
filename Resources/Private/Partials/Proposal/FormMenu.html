<html xmlns="http://www.w3.org/1999/xhtml" lang="en"
     xmlns:f="http://typo3.org/ns/fluid/ViewHelpers"
     xmlns:v="http://typo3.org/ns/FluidTYPO3/Vhs/ViewHelpers"
     v:schemaLocation="http://fluidtypo3.org/schemas/vhs-1.8.5.xsd"
     data-namespace-typo3-fluid="true">

    <nav class="form__menu" aria-label="{f:translate(key:'tx_openoap.general.formNavigation')}">
    <ol>
        <f:for each="{proposal.call.formPages}" as="formPageNav" iteration="pageIt">
            <li class="form__menu-item <f:if condition='{pageIt.cycle} == {pageControl.current}'>form__menu-item--active</f:if>">
                <f:form.button
                    additionalAttributes="{'data-oap-modaltext':'JSMSG_MODAL_CONTENT','data-oap-modalsubmit':'JSMSG_MODAL_SAVE','data-oap-modalcancel':'JSMSG_MODAL_KEEPEDITING'}"
                    type="submit" name="gotoPage" value="{pageIt.cycle}" class="form__menu-button<f:if condition='{pageIt.cycle} == {pageControl.current}'> form__menu-button--active</f:if><f:if condition='{validationResults.pages.{pageIt.cycle} -> f:count()}'> form__menu-button--error</f:if>">
                    <f:if condition="{validationResults.pages.{pageIt.cycle} -> f:count()}">
                        <f:render partial="ButtonIcon" arguments="{type:'error',additionalClass:'form__icon--error-right'}"/>
                    </f:if>
                    <f:if condition="{formPageNav.menuTitle} !== ''">
                        <f:then>{formPageNav.menuTitle}</f:then>
                        <f:else>{formPageNav.title}</f:else>
                    </f:if>
                    <f:if condition="{pageMap.{pageIt.cycle}.notification}">
                        <f:render partial="ButtonIcon" arguments="{type:'comments-small'}"/>
                    </f:if>
                </f:form.button>
            </li>
        </f:for>
    </ol>
    </nav>

    <nav class="form__controls--left" aria-label="{f:translate(key:'tx_openoap.general.formControls')}">
        <f:form.button
            type="submit" class="button button--linkstyle button--linkstyle-reduced" name="close"
            additionalAttributes="{'data-oap-modaltext':'JSMSG_MODAL_CONTENT','data-oap-modalsubmit':'JSMSG_MODAL_SAVECLOSE','data-oap-modalcancel':'JSMSG_MODAL_KEEPEDITING'}"  >
            <f:render partial="ButtonIcon" arguments="{type:'save-close'}"/>{f:translate(key:'tx_openoap.general.save_close')}</f:form.button><br>
        <f:form.button
            type="submit" class="button button--linkstyle button--linkstyle-reduced" name="cancel"
            additionalAttributes="{'data-oap-showmodal':'1','data-oap-modaltext':'JSMSG_MODAL_CANCELWARNING','data-oap-modalsubmit':'JSMSG_MODAL_CANCEL','data-oap-modalcancel':'JSMSG_MODAL_KEEPEDITING'}"  >
            <f:render partial="ButtonIcon" arguments="{type:'cancel'}"/>{f:translate(key:'tx_openoap.general.cancel')}</f:form.button>
    </nav>
</html>
